(self.webpackChunk=self.webpackChunk||[]).push([[968],{3053:(t,n,e)=>{"use strict";e.d(n,{Z:()=>o});var i=e(4015),a=e.n(i),r=e(3645),s=e.n(r)()(a());s.push([t.id,"*[data-v-77601eaa]{margin:0;padding:0}.header[data-v-77601eaa]{background:#fff;padding:0 2px;position:fixed;width:100%;z-index:1}.clearfix[data-v-77601eaa]{height:10px}.option-card[data-v-77601eaa]{margin-top:10px}.el-select-dropdown__item[data-v-77601eaa]{padding-left:20px}.el-select[data-v-77601eaa]{width:100%}.notes[data-v-77601eaa]{width:45%}.el-form-item[data-v-77601eaa]{margin:0,5px,0}.button[data-v-77601eaa]{background:#1e9afe;color:#fff;margin:5px}.back[data-v-77601eaa]{margin-top:20px}.main[data-v-77601eaa]{padding-top:50px}.artistComponent[data-v-77601eaa]{max-width:100%;overflow:hidden;padding-left:0}.input[data-v-77601eaa]{width:100%}","",{version:3,sources:["webpack://./resources/js/components/artist/Artist.vue"],names:[],mappings:"AA4MA,mBACI,QAAA,CACA,SA3MJ,CA6MA,yBAEI,eAAA,CACA,aAAA,CACA,cAAA,CAHA,UAAA,CAIA,SA1MJ,CA4MA,2BACI,WAzMJ,CA2MA,8BACI,eAxMJ,CA0MA,2CACI,iBAvMJ,CAyMA,4BACI,UAtMJ,CAwMA,wBACI,SArMJ,CAuMA,+BACI,cApMJ,CAsMA,yBAEI,kBAAA,CACA,UAAA,CAFA,UAjMJ,CAqMA,uBACI,eAlMJ,CAoMA,uBACI,gBAjMJ,CAmMA,kCACI,cAAA,CAGA,eAAA,CADA,cAhMJ,CAmMA,wBACI,UAhMJ",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n* {\n    margin:0;\n    padding:0;\n}\n.header {\n    width:100%;\n    background: #FFF;\n    padding:0 2px;\n    position:fixed;\n    z-index: 1;\n}\n.clearfix {\n    height: 10px;\n}\n.option-card {\n    margin-top:10px;\n}\n.el-select-dropdown__item {\n    padding-left: 20px;\n}\n.el-select {\n    width: 100%;\n}\n.notes {\n    width: 45%;\n}\n.el-form-item {\n    margin:0px, 5px, 0px;\n}\n.button {\n    margin: 5px;\n    background: #1E9AFE;\n    color: #FFF;\n}\n.back {\n    margin-top:20px;\n}\n.main {\n    padding-top:50px;\n}\n.artistComponent {\n    max-width: 100%;\n\n    padding-left:0px;\n    overflow: hidden;\n}\n.input {\n    width: 100%;\n}\n"],sourceRoot:""}]);const o=s},4057:t=>{t.exports=class t{static MAPPING_HEPBURN="hepburn";static MAPPING_KUNREI="kunrei";static CHOUON_MACRON="macron";static CHOUON_CIRCUMFLEX="circumflex";static CHOUON_ALPHABET="alphabet";static CHOUON_SKIP="skip";static CHOUON_HYPHEN="hyphen";static UPPER_WORD_INITIAL="word_initial";static UPPER_SENTENCE_INITIAL="sentence_initial";static UPPER_ALL="all";static UPPER_NONE="none";static OPTION_SET_HEPBURN={mapping:t.MAPPING_HEPBURN,chouon:t.CHOUON_MACRON};static OPTION_SET_KUNREI={mapping:t.MAPPING_KUNREI,chouon:t.CHOUON_CIRCUMFLEX};romanMap={あ:"a",い:"i",う:"u",え:"e",お:"o",か:"ka",き:"ki",く:"ku",け:"ke",こ:"ko",さ:"sa",し:{hepburn:"shi",kunrei:"si"},す:"su",せ:"se",そ:"so",た:"ta",ち:{hepburn:"chi",kunrei:"ti"},つ:{hepburn:"tsu",kunrei:"tu"},て:"te",と:"to",な:"na",に:"ni",ぬ:"nu",ね:"ne",の:"no",は:"ha",ひ:"hi",ふ:{hepburn:"fu",kunrei:"hu"},へ:"he",ほ:"ho",ま:"ma",み:"mi",む:"mu",め:"me",も:"mo",や:"ya",ゆ:"yu",よ:"yo",ら:"ra",り:"ri",る:"ru",れ:"re",ろ:"ro",わ:"wa",ゐ:"wi",ゑ:"we",を:{hepburn:"o",kunrei:"wo"},ん:"n",が:"ga",ぎ:"gi",ぐ:"gu",げ:"ge",ご:"go",ざ:"za",じ:{hepburn:"ji",kunrei:"zi"},ず:"zu",ぜ:"ze",ぞ:"zo",だ:"da",ぢ:{hepburn:"ji",kunrei:"di"},づ:{hepburn:"zu",kunrei:"du"},で:"de",ど:"do",ば:"ba",び:"bi",ぶ:"bu",べ:"be",ぼ:"bo",ぱ:"pa",ぴ:"pi",ぷ:"pu",ぺ:"pe",ぽ:"po",きゃ:"kya",きぃ:"kyi",きゅ:"kyu",きぇ:"kye",きょ:"kyo",くぁ:"qa",くぃ:"qi",くぇ:"qe",くぉ:"qo",くゃ:"qya",くゅ:"qyu",くょ:"qyo",しゃ:{hepburn:"sha",kunrei:"sya"},しぃ:"syi",しゅ:{hepburn:"shu",kunrei:"syu"},しぇ:"sye",しょ:{hepburn:"sho",kunrei:"syo"},ちゃ:{hepburn:"cha",kunrei:"tya"},ちぃ:{hepburn:"chi",kunrei:"tyi"},ちゅ:{hepburn:"chu",kunrei:"tyu"},ちぇ:{hepburn:"che",kunrei:"tye"},ちょ:{hepburn:"cho",kunrei:"tyo"},てゃ:"tha",てぃ:"thi",てゅ:"thu",てぇ:"the",てょ:"tho",ひゃ:"hya",ひゅ:"hyu",ひぇ:"hye",ひょ:"hyo",ふぁ:"fa",ふぃ:"fi",ふぇ:"fe",ふぉ:"fo",みゃ:"mya",みゅ:"myu",みぇ:"mye",みょ:"myo",ヴぁ:"va",ヴぃ:"vi",ヴぇ:"ve",ヴぉ:"vo",ぎゃ:"gya",ぎゅ:"gyu",ぎぇ:"gye",ぎょ:"gyo",じゃ:{hepburn:"ja",kunrei:"zya"},じゅ:{hepburn:"ju",kunrei:"zyu"},じぇ:"zye",じょ:{hepburn:"jo",kunrei:"zyo"},ぢゃ:{hepburn:"dya",kunrei:"zya"},ぢゅ:{hepburn:"dyu",kunrei:"zya"},ぢぇ:"dye",ぢょ:{hepburn:"dyo",kunrei:"zya"},びゃ:"bya",びゅ:"byu",びぇ:"bye",びょ:"byo",ぴゃ:"pya",ぴゅ:"pyu",ぴぇ:"pye",ぴょ:"pyo",りゃ:"rya",りゅ:"ryu",りぇ:"rye",りょ:"ryo",にゃ:"nya",にゅ:"nyu",にぇ:"nye",にょ:"nyo",ゔ:"bu","、":", ","，":", ","。":". ",ぁ:"a",ぃ:"i",ぅ:"u",ぇ:"e",ぉ:"o"};sutegana=["ぁ","ぃ","ぅ","ぇ","ぉ","ゃ","ゅ","ょ"];sokuon="っ";chouonMap={a:{aa:{macron:"ā",circumflex:"â"}},i:{ii:{macron:"ī",circumflex:"î"}},u:{uu:{macron:"ū",circumflex:"û"},ou:{macron:"ō",circumflex:"ô"}},e:{ee:{macron:"ē",circumflex:"ê"}},o:{oo:{macron:"ō",circumflex:"ô"}}};mappingMode=t.MAPPING_HEPBURN;chouonMode=t.CHOUON_MACRON;upperMode=t.UPPER_WORD_INITIAL;constructor(t){t&&"mapping"in t&&(this.mappingMode=t.mapping),t&&"chouon"in t&&(this.chouonMode=t.chouon),t&&"upper"in t&&(this.upperMode=t.upper)}romanize(t){const n=this.kanaToHira(t);let e="";for(let t=0;t<n.length;){const i=this.getChar(n,t);e+=this.getRomanChar(n,t,i,e)+(this.isNeedApostrophe(n,t)?"'":""),t+=i.length}return this.upper(this.convertChouon(e))}getChar(t,n){if(this.isWithSutegana(t,n)){const e=t.substr(n,2);return e in this.romanMap?e:t[n]}return t[n]}getRomanChar(t,n,e,i){let a=e;if("ー"===e)a=i[i.length-1];else{if("っ"===e)return"";e in this.romanMap&&(a="object"==typeof this.romanMap[e]?this.romanMap[e][this.mappingMode]:this.romanMap[e])}return t[n-1]===this.sokuon&&(a=a[0]+a),a}isWithSutegana(t,n){const e=n+1;if(e>=t.length)return!1;const i=t[e];return this.sutegana.includes(i)}convertChouon(t){if("alphabet"===this.chouonMode)return t;let n=t[0],e=!1;for(let i=1;i<t.length;i++){const a=t[i],r=t.substr(i-1,2);if(!e&&a in this.chouonMap&&r in this.chouonMap[a]){if(e=!0,"skip"===this.chouonMode)continue;"hyphen"===this.chouonMode?n+="-":n=n.substr(0,n.length-1)+this.chouonMap[a][r][this.chouonMode]}else n+=a,e=!1}return n}upper(n){switch(this.upperMode){case t.UPPER_WORD_INITIAL:return this.upperWordInitial(n);case t.UPPER_SENTENCE_INITIAL:return this.upperSentenceInitial(n);case t.UPPER_ALL:return this.upperAll(n);case t.UPPER_NONE:return n;default:throw new Error("upperに不正な値が指定されています")}}upperWordInitial(t){let n=t[0].toUpperCase();for(let e=1;e<t.length;e++){const i=t[e];t.substr(e-1,1).match(/\s/)?n+=i.toUpperCase():n+=i}return n}upperSentenceInitial(t){let n="",e=!1;for(let i=0;i<t.length;i++){const a=t[i];a.match(/[a-zA-Zāâīîūûēêōô]/)&&!1===e?(n+=a.toUpperCase(),e=!0):("."===a&&(e=!1),n+=a)}return n}upperAll(t){let n="";for(let e=0;e<t.length;e++){n+=t[e].toUpperCase()}return n}isNeedApostrophe(t,n){return!("ん"!==t[n]||!["あ","い","う","え","お","や","ゆ","よ"].includes(t[n+1]))||t[n]===this.sokuon&&n+1>=t.length}kanaToHira(t){return t.replace(/[\u30a1-\u30f6]/g,(function(t){const n=t.charCodeAt(0)-96;return String.fromCharCode(n)}))}}},8797:t=>{window,t.exports=function(t){var n={};function e(i){if(n[i])return n[i].exports;var a=n[i]={i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,e),a.l=!0,a.exports}return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var a in t)e.d(i,a,function(n){return t[n]}.bind(null,a));return i},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=2)}([function(t,n){t.exports=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}},function(t,n){function e(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}t.exports=function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}},function(t,n,e){"use strict";e.r(n);var i=e(0),a=e.n(i),r=e(1),s=e.n(r);function o(t,n){n=n?n.replace(/([[\]().?\/*{}+$^:])/g,"$1"):" \\s ";var e=new RegExp("^[".concat(n,"]+"),"g");return t.replace(e,"")}function u(t){var n=Number(t);return n>=12353&&n<=12435||12445===n||12446===n}var l=/[^ 　ぁあ-んー]/g,c=/[ぁぃぅぇぉっゃゅょ]/g,h=function(){function t(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};a()(this,t),this.isActive=!0,this.timer=null,this.initializeValues(),this.option=Object.assign({katakana:!1,debug:!1,checkInterval:30},i);var r=document.getElementById(o(n,"#")),s=document.getElementById(o(e,"#"));if(!r)throw new Error("Element not found: ".concat(n));this.elName=r,this.registerEvents(this.elName),s&&(this.elFurigana=s)}return s()(t,[{key:"getFurigana",value:function(){return this.furigana}},{key:"start",value:function(){this.isActive=!0}},{key:"stop",value:function(){this.isActive=!1}},{key:"toggle",value:function(t){if(t){var n=Event.element(t);n&&(this.isActive=n.checked)}else this.isActive=!this.isActive}},{key:"initializeValues",value:function(){this.baseKana="",this.furigana="",this.isConverting=!1,this.ignoreString="",this.input="",this.values=[]}},{key:"registerEvents",value:function(t){var n=this;t.addEventListener("blur",(function(){n.debug("blur"),n.clearInterval()})),t.addEventListener("focus",(function(){n.debug("focus"),n.onInput(),n.setInterval()})),t.addEventListener("keydown",(function(){n.debug("keydown"),n.isConverting&&n.onInput()}))}},{key:"clearInterval",value:function(t){function n(){return t.apply(this,arguments)}return n.toString=function(){return t.toString()},n}((function(){this.timer&&clearInterval(this.timer)}))},{key:"toKatakana",value:function(t){if(this.option.katakana){for(var n,e="",i=0;i<t.length;i+=1)u(n=t.charCodeAt(i))?e+=String.fromCharCode(n+96):e+=t.charAt(i);return e}return t}},{key:"setFurigana",value:function(t){this.isConverting||(t&&(this.values=t),this.isActive&&(this.furigana=this.toKatakana(this.baseKana+this.values.join("")),this.elFurigana&&(this.elFurigana.value=this.furigana)))}},{key:"removeString",value:function(t){if(-1!==t.indexOf(this.ignoreString))return String(t).replace(this.ignoreString,"");for(var n=this.ignoreString.split(""),e=t.split(""),i=0;i<n.length;i+=1)n[i]===e[i]&&(e[i]="");return e.join("")}},{key:"checkConvert",value:function(t){if(!this.isConverting)if(Math.abs(this.values.length-t.length)>1){var n=t.join("").replace(c,"").split("");Math.abs(this.values.length-n.length)>1&&this.onConvert()}else this.values.length===this.input.length&&this.values.join("")!==this.input&&this.input.match(l)&&this.onConvert()}},{key:"checkValue",value:function(){var t;if(""===(t=this.elName.value))this.initializeValues(),this.setFurigana();else{if(t=this.removeString(t),this.input===t)return;if(this.input=t,this.isConverting)return;var n=t.replace(l,"").split("");this.checkConvert(n),this.setFurigana(n)}this.debug(this.input)}},{key:"setInterval",value:function(t){function n(){return t.apply(this,arguments)}return n.toString=function(){return t.toString()},n}((function(){this.timer=setInterval(this.checkValue.bind(this),this.option.checkInterval)}))},{key:"onInput",value:function(){this.elFurigana&&(this.baseKana=this.elFurigana.value),this.isConverting=!1,this.ignoreString=this.elName.value}},{key:"onConvert",value:function(){this.baseKana=this.baseKana+this.values.join(""),this.isConverting=!0,this.values=[]}},{key:"debug",value:function(){var t;this.option.debug&&(t=console).log.apply(t,arguments)}}]),t}();function p(t,n){return new h(t,n,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}e.d(n,"bind",(function(){return p}))}])},9968:(t,n,e)=>{"use strict";e.r(n),e.d(n,{default:()=>p});var i,a=e(8797),r=e(4057),s=new r({chouon:r.CHOUON_SKIP,upper:r.UPPER_NONE});const o={data:function(){return{artist:{artist_id:null,artist_name:null,artist_name_jp:null,artist_name_en:null,alter_1:null,alter_2:null,memo:null},displays:{alter_1:"",alter_2:""},artistList:[],loading:!1}},methods:{create:function(){var t=this;this.loading=!0,this.checkArtist(),axios.post("/api/artists/create",this.artist).then((function(n){t.$message({showClose:!0,message:"登録しました",type:"success"}),t.loading=!1,t.$router.push({path:"/search",query:{artistId:t.artist.artist_id}})})).catch((function(n){t.$message({showClose:!0,message:"登録失敗しました...",type:"error"}),t.loading=!1,console.log(n)}))},update:function(){var t=this;this.loading=!0,this.checkArtist(),axios.put("/api/artists/update",this.artist).then((function(n){t.$message({showClose:!0,message:"更新しました",type:"success"}),t.loading=!1,t.$router.push({path:"/search",query:{artistId:t.artist.artist_id}})})).catch((function(n){t.$message({showClose:!0,message:"更新失敗しました...",type:"error"}),t.loading=!1,console.log(n)}))},suggestArtist:function(t,n){axios.post("/api/artists/search",{searchKey:t}).then((function(t){var e=t.data.map((function(t){return{value:t.artist_name,artist_id:String(t.artist_id)}}));n(e)})).catch((function(t){}))},selectAlter1:function(t){this.artist.alter_1=t.artist_id,this.displays.alter_1=t.value},selectAlter2:function(t){this.artist.alter_2=t.artist_id,this.displays.alter_2=t.value},checkArtist:function(){this.displays.alter_1||(this.artist.alter_1=null),this.displays.alter_2||(this.artist.alter_2=null)},artistRead:function(){var t=this;axios.post("/api/artists/readDetail",{artistId:this.artist.artist_id}).then((function(n){t.artist=n.data}))},artistsReadForPullDown:function(){var t=this;axios.get("/api/artists/pulldown").then((function(n){t.artistList=n.data,t.artist.artist_id&&n.data.forEach((function(n){t.artist.alter_1&&t.artist.alter_1===n.artist_id&&(t.displays.alter_1=n.artist_name),t.artist.alter_2&&t.artist.alter_2===n.artist_id&&(t.displays.alter_2=n.artist_name)}))}))},back:function(){this.$router.push({path:"/search",query:{artistId:this.artist.artist_id}})},handleName:function(){this.artist.artist_name_jp=i.getFurigana(),this.artist.artist_name_en=s.romanize(this.artist.artist_name_jp)}},mounted:function(){this.artist.artist_id=this.$route.query.artistId,this.artist.artist_id&&this.artistRead(),this.artistsReadForPullDown(),i=a.bind("#artist_name","#artist_name_jp")}};var u=e(3379),l=e.n(u),c=e(3053),h={insert:"head",singleton:!1};l()(c.Z,h);c.Z.locals;const p=(0,e(1900).Z)(o,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"artistComponent"},[e("el-container",[e("el-header",{staticClass:"header"},[e("el-col",{attrs:{span:19}},[e("el-button",{staticClass:"back",attrs:{type:"text",icon:"el-icon-back"},on:{click:t.back}},[t._v("\n                キャンセル\n            ")])],1),t._v(" "),e("el-col",{attrs:{span:5}},[t.artist.artist_id?e("div",[e("el-button",{staticClass:"button",attrs:{round:""},on:{click:t.update}},[t._v("更新")])],1):e("div",[e("el-button",{staticClass:"button",attrs:{round:""},on:{click:t.create}},[t._v("登録")])],1)])],1),t._v(" "),e("el-main",{staticClass:"main"},[e("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{model:t.artist,"label-position":"top"}},[e("el-card",{staticClass:"main-card"},[e("el-form-item",{attrs:{"label-width":"150px",label:"アーティスト名"}},[e("el-input",{staticClass:"input",attrs:{id:"artist_name"},on:{input:t.handleName},model:{value:t.artist.artist_name,callback:function(n){t.$set(t.artist,"artist_name",n)},expression:"artist.artist_name"}})],1),t._v(" "),e("el-form-item",{attrs:{"label-width":"150px",label:"アーティスト名(かな)"}},[e("el-input",{staticClass:"input",attrs:{id:"artist_name_jp"},model:{value:t.artist.artist_name_jp,callback:function(n){t.$set(t.artist,"artist_name_jp",n)},expression:"artist.artist_name_jp"}})],1),t._v(" "),e("el-form-item",{attrs:{"label-width":"150px",label:"アーティスト名(English)"}},[e("el-input",{staticClass:"input",model:{value:t.artist.artist_name_en,callback:function(n){t.$set(t.artist,"artist_name_en",n)},expression:"artist.artist_name_en"}})],1),t._v(" "),e("el-form-item",{attrs:{"label-width":"150px",label:"別名義1"}},[e("el-autocomplete",{attrs:{"fetch-suggestions":t.suggestArtist,placeholder:"Please Input"},on:{select:t.selectAlter1},model:{value:t.displays.alter_1,callback:function(n){t.$set(t.displays,"alter_1",n)},expression:"displays.alter_1"}})],1),t._v(" "),e("el-form-item",{attrs:{"label-width":"150px",label:"別名義2"}},[e("el-autocomplete",{attrs:{"fetch-suggestions":t.suggestArtist,placeholder:"Please Input"},on:{select:t.selectAlter2},model:{value:t.displays.alter_2,callback:function(n){t.$set(t.displays,"alter_2",n)},expression:"displays.alter_2"}})],1),t._v(" "),e("el-form-item",{attrs:{"label-width":"150px",label:"メモ"}},[e("el-input",{staticClass:"input",attrs:{type:"textarea"},model:{value:t.artist.memo,callback:function(n){t.$set(t.artist,"memo",n)},expression:"artist.memo"}})],1)],1)],1)],1)],1)],1)}),[],!1,null,"77601eaa",null).exports}}]);
//# sourceMappingURL=968.js.map